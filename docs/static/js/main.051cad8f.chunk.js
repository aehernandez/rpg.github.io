(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n.p+"static/media/swrpg.a09f3c28.otf"},113:function(e,t,n){e.exports=n.p+"static/media/GitHub-Mark.1bb02710.svg"},115:function(e,t,n){e.exports=n(282)},120:function(e,t,n){},122:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),l=(n(120),n(41)),i=n(42),u=n(46),s=n(43),f=n(47),m=n(28),v=(n(122),n(18)),h=n(15),d=n(16),b=n(105),p=n.n(b);function g(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: black;\n     -webkit-text-stroke: 1px black;\n"]);return g=function(){return e},e}function E(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: white;\n     -webkit-text-stroke: 1px black;\n"]);return E=function(){return e},e}function k(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: white;\n     -webkit-text-stroke: 1px black;\n"]);return k=function(){return e},e}function y(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: aqua;\n     -webkit-text-stroke: 1px black;\n"]);return y=function(){return e},e}function j(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: black;\n     -webkit-text-stroke: 1px black;\n"]);return j=function(){return e},e}function O(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: purple;\n     -webkit-text-stroke: 1px black;\n"]);return O=function(){return e},e}function S(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: green;\n     -webkit-text-stroke: 1px black;\n"]);return S=function(){return e},e}function w(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: yellow;\n     -webkit-text-stroke: 1px black;\n"]);return w=function(){return e},e}function P(){var e=Object(h.a)(["\n     font-family: StarWars;\n     color: red;\n     -webkit-text-stroke: 1px black;\n"]);return P=function(){return e},e}function T(){var e=Object(h.a)(["\n  font-family: StarWars;\n  font-size: ","\n"]);return T=function(){return e},e}function x(){var e=Object(h.a)(["\n  @font-face { font-family: StarWars; src: url(","); }\n"]);return x=function(){return e},e}var A=Object(d.a)(x(),p.a),F=d.b.span(T(),function(e){return"large"===e.size?"2.75em":"medium"===e.size?"1.75em":"1.0em"}),C=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Challenge"},t),"c")})(P()),D=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Proficiency"},t),"c")})(w()),W=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Ability"},t),"d")})(S()),L=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Difficulty"},t),"d")})(O()),z=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Setback"},t),"b")})(j()),I=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Boost"},t),"b")})(y()),N=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Force"},t),"c")})(k()),M=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Light"},t),"z")})(E()),B=Object(d.b)(function(e){var t=Object(v.a)({},e);return r.a.createElement(F,Object.assign({title:"Dark"},t),"z")})(g()),R=F,J={Ability:W,Proficiency:D,Difficulty:L,Challenge:C,Boost:I,Setback:z,Force:N},H={Success:function(){return r.a.createElement(R,{title:"Success"},"s")},Failure:function(){return r.a.createElement(R,{title:"Failure"},"f")},Advantage:function(){return r.a.createElement(R,{title:"Advantage"},"a")},Threat:function(){return r.a.createElement(R,{title:"Threat"},"t")},Triumph:function(){return r.a.createElement(R,{title:"Triumph"},"x")},Despair:function(){return r.a.createElement(R,{title:"Despair"},"y")},Light:M,Dark:B},U={Ability:[["Success"],["Advantage"],["Success","Advantage"],["Success","Success"],["Advantage"],["Success"],["Advantage","Advantage"],[]],Proficiency:[["Advantage","Advantage"],["Advantage"],["Advantage","Advantage"],["Triumph"],["Success"],["Success","Advantage"],["Success"],["Success","Advantage"],["Success","Success"],["Success","Advantage"],["Success","Success"],[]],Difficulty:[["Threat"],["Failure"],["Threat","Failure"],["Threat"],[],["Threat","Threat"],["Failure","Failure"],["Threat"]],Challenge:[["Threat","Threat"],["Threat"],["Threat","Threat"],["Threat"],["Threat","Failure"],["Failure"],["Threat","Failure"],["Failure"],["Failure","Failure"],["Despair"],["Failure","Failure"],[]],Boost:[["Advantage"],["Advantage","Advantage"],["Success"],["Success","Advantage"],[],[]],Setback:[["Failure"],["Failure"],["Threat"],["Threat"],[],[]],Force:[["Light","Light"],["Light","Light"],["Light","Light"],["Light"],["Light"],["Dark"],["Dark"],["Dark"],["Dark"],["Dark"],["Dark"],["Dark","Dark"]]},G={};Object.keys(J).forEach(function(e,t){G[e]=t});var q=function(e,t){return G[e]-G[t]};function Q(e){var t=U[e];return t[Math.floor(Math.random()*t.length)]}function V(e,t){var n={Success:0,Advantage:0,Triumph:0,Failure:0,Threat:0,Despair:0,Light:0,Dark:0},a=function(e){return e.map(Q).reduce(function(e,t){return e.concat(t)},[])}(e);return t&&(a.filter(function(e){return"Triumph"===e}).forEach(function(){return a.push("Success")}),a.filter(function(e){return"Despair"===e}).forEach(function(){return a.push("Failure")})),a.forEach(function(e){return n[e]+=1}),[["Success","Failure"],["Advantage","Threat"]].forEach(function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return function(e,t,n){e[t]>e[n]?(e[t]-=e[n],e[n]=0):(e[n]-=e[t],e[t]=0)}(n,a,r)}),n}var $=window.localStorage;function _(e){var t=JSON.stringify(e);$.setItem("pools",t)}function K(){var e=$.getItem("pools");return e?JSON.parse(e):{}}var X=n(107),Y=n.n(X),Z=n(109),ee=n.n(Z),te=n(29),ne=n.n(te),ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},n.savePool=function(){n.props.savePool(n.state.name),n.setState({name:""})},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.a,{id:"outlined-adornment-password",variant:"outlined",type:"text",label:"Name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},InputProps:{endAdornment:r.a.createElement(ee.a,{position:"end"},r.a.createElement(ne.a,{disabled:!this.state.name,onClick:this.savePool},"Save"))}})}}]),t}(r.a.PureComponent),re=n(111),oe=n.n(re),ce=n(112),le=n.n(ce),ie=n(20),ue=n.n(ie),se=n(23),fe=n.n(se),me=n(27),ve=n.n(me),he=n(110),de=n.n(he);function be(e){var t=e.pools,n=e.loadPool,a=e.deletePool;return r.a.createElement(ue.a,null,Object.entries(t).map(function(e){var t=Object(m.a)(e,2),o=t[0],c=t[1];return r.a.createElement(fe.a,{key:o,button:!0,onClick:function(){return n(c)}},r.a.createElement(ve.a,{primary:o,secondary:function(e){return r.a.createElement(r.a.Fragment,null,e.map(function(e,t){var n=J[e];return r.a.createElement(n,{key:"".concat(e," ").concat(t)})}))}(c)}),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:function(){return a(o)}},r.a.createElement(le.a,null))))}))}var pe=n(45),ge=n.n(pe);function Ee(e){var t=e.history;return r.a.createElement(ue.a,null,t.map(function(e,t){var n=e.pool,a=e.resultCollector;return r.a.createElement(r.a.Fragment,{key:"History ".concat(t)},r.a.createElement(ge.a,null),r.a.createElement(fe.a,null,r.a.createElement(ve.a,{primary:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(H).map(function(n,a){return Array(e[n]).fill().map(function(e,o){var c=H[n];return r.a.createElement(c,Object.assign({key:"Result ".concat(a,"/").concat(o)},t))})}).reduce(function(e,t){return e.concat(t)},[]);return r.a.createElement(r.a.Fragment,null,n)}(a),secondary:function(e){return r.a.createElement(r.a.Fragment,null,e.map(function(e,t){var n=J[e];return r.a.createElement(n,{key:"".concat(e," ").concat(t)})}))}(n)})))}))}var ke=n(44),ye=n(48),je=n.n(ye),Oe=n(68),Se=n.n(Oe),we=n(69),Pe=n.n(we),Te=n(17),xe=n.n(Te),Ae=n(113),Fe=n.n(Ae),Ce=(n(275),Object(ke.createMuiTheme)({typography:{useNextVariants:!0,suppressDeprecationWarnings:!0}})),De=function(e){var t=e.addToPool;return r.a.createElement(xe.a,{container:!0,direction:"row",spacing:32,justify:"center",alignItems:"flex-start"},Object.entries(J).map(function(e){var n=Object(m.a)(e,2),a=n[0],o=n[1];return r.a.createElement(xe.a,{item:!0,key:a},r.a.createElement(o,{onClick:function(){return t(a)},size:"large"}))}))},We=function(e){var t=e.names,n=e.removeFromPool;return r.a.createElement(r.a.Fragment,null,0===t.length?r.a.createElement("i",null,"-"):t.map(function(e,t){var a=J[e];return r.a.createElement(a,{key:"".concat(e," ").concat(t),onClick:function(){return n(e)},size:"medium"})}))};var Le=function(e){var t=e.resultCollector,n=e.noResultText,a=void 0===n?"Even Wash":n,o=Object.keys(H).map(function(e){return function(e,t){var n=e[t];return 0===n?null:r.a.createElement(fe.a,{key:t},r.a.createElement(ve.a,{secondary:"".concat(n,"x ").concat(t).concat(n>1?"s":""),primary:Array(n).fill().map(function(e,n){var a=H[t];return r.a.createElement(a,{key:"Result ".concat(n)})})}))}(t,e)}).filter(function(e){return null!==e}),c=0===o.length;return r.a.createElement(ue.a,null,c?r.a.createElement(fe.a,null,r.a.createElement("i",null,a)):r.a.createElement(ue.a,null,o))},ze=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={pool:[],resultCollector:null,savedPools:{},history:[]},n.addToPool=function(e){var t=n.state.pool.slice();t.push(e),t.sort(q),n.setState({pool:t})},n.removeFromPool=function(e){var t=n.state.pool.slice();t.splice(t.indexOf(e),1),n.setState({pool:t})},n.rollPool=function(){var e=n.state.pool,t=V(e,!0),a=n.state.history.slice();a.length>5&&a.pop(),a.unshift({pool:e,resultCollector:t}),n.setState({resultCollector:t,history:a})},n.clearPool=function(){n.setState({pool:[],resultCollector:null,history:[]})},n.loadPools=function(){K(),n.setState({savedPools:K()})},n.savePool=function(e){!function(e,t){var n=K();n[e]=t,_(n)}(e,n.state.pool),n.loadPools()},n.deletePool=function(e){!function(e){var t=K();delete t[e],_(t)}(e),n.loadPools()},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadPools()}},{key:"render",value:function(){var e=this;return r.a.createElement(ke.MuiThemeProvider,{theme:Ce},r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(De,{addToPool:this.addToPool}),r.a.createElement("br",null),r.a.createElement(ge.a,{inset:!0}),r.a.createElement("br",null),r.a.createElement(xe.a,{container:!0,direction:"column",alignItems:"center",spacing:32},r.a.createElement(xe.a,{item:!0,md:6},r.a.createElement(We,{names:this.state.pool,removeFromPool:this.removeFromPool}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ne.a,{onClick:this.clearPool},"Clear")," ",r.a.createElement(ne.a,{disabled:0===this.state.pool.length,variant:"outlined",color:"primary",onClick:this.rollPool},"Roll")),r.a.createElement(xe.a,{item:!0,md:6},r.a.createElement(je.a,null,null!==this.state.resultCollector?r.a.createElement(Le,{resultCollector:this.state.resultCollector}):r.a.createElement(Se.a,null,r.a.createElement("i",null,"No results")))),r.a.createElement(xe.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:24},r.a.createElement(xe.a,{item:!0,md:6},r.a.createElement(je.a,null,r.a.createElement(Pe.a,{subheader:"Saved Dice Pools"}),r.a.createElement(Se.a,null,r.a.createElement(ae,{savePool:this.savePool}),r.a.createElement(be,{pools:this.state.savedPools,loadPool:function(t){return e.setState({pool:t})},deletePool:this.deletePool})))),r.a.createElement(xe.a,{item:!0,md:4},r.a.createElement(je.a,null,r.a.createElement(Pe.a,{subheader:"History"}),r.a.createElement(Ee,{history:this.state.history})))),r.a.createElement(xe.a,{item:!0},r.a.createElement("p",null,r.a.createElement("i",null,"Click a dice symbol to add or remove it.")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("footer",null,r.a.createElement(xe.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end",iiii:!0},r.a.createElement(xe.a,{item:!0,md:1},r.a.createElement(ne.a,{variant:"fab",href:"https://github.com/aehernandez/rpg.github.io",target:"_blank"},r.a.createElement("img",{src:Fe.a,alt:"Github"})))))))}}]),t}(a.Component),Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(ze,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Ie?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ne(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ne(t,e)})}}()}},[[115,2,1]]]);
//# sourceMappingURL=main.051cad8f.chunk.js.map